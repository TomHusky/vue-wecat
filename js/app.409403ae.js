(function(e){function t(t){for(var a,i,r=t[0],d=t[1],o=t[2],s=0,u=[];s<r.length;s++)i=r[s],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&u.push(c[i][0]),c[i]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);l&&l(t);while(u.length)u.shift()();return f.push.apply(f,o||[]),n()}function n(){for(var e,t=0;t<f.length;t++){for(var n=f[t],a=!0,i=1;i<n.length;i++){var r=n[i];0!==c[r]&&(a=!1)}a&&(f.splice(t--,1),e=d(d.s=n[0]))}return e}var a={},i={app:0},c={app:0},f=[];function r(e){return d.p+"js/"+({}[e]||e)+"."+{"chunk-304f7933":"f151ccac","chunk-5594f4ec":"fe65947a","chunk-5796a42a":"2086ad70","chunk-60e522e1":"d863f8ac","chunk-7388aa62":"3732214f"}[e]+".js"}function d(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.e=function(e){var t=[],n={"chunk-304f7933":1,"chunk-5594f4ec":1,"chunk-5796a42a":1,"chunk-60e522e1":1,"chunk-7388aa62":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-304f7933":"5aef502e","chunk-5594f4ec":"cb198854","chunk-5796a42a":"c075b65d","chunk-60e522e1":"a4e09723","chunk-7388aa62":"ec292067"}[e]+".css",c=d.p+a,f=document.getElementsByTagName("link"),r=0;r<f.length;r++){var o=f[r],s=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(s===a||s===c))return t()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){o=u[r],s=o.getAttribute("data-href");if(s===a||s===c)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var a=t&&t.target&&t.target.src||c,f=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");f.code="CSS_CHUNK_LOAD_FAILED",f.request=a,delete i[e],l.parentNode.removeChild(l),n(f)},l.href=c;var b=document.getElementsByTagName("head")[0];b.appendChild(l)})).then((function(){i[e]=0})));var a=c[e];if(0!==a)if(a)t.push(a[2]);else{var f=new Promise((function(t,n){a=c[e]=[t,n]}));t.push(a[2]=f);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,d.nc&&s.setAttribute("nonce",d.nc),s.src=r(e);var u=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=c[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",u.name="ChunkLoadError",u.type=a,u.request=i,n[1](u)}c[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},d.m=e,d.c=a,d.d=function(e,t,n){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)d.d(n,a,function(t){return e[t]}.bind(null,a));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="/vue-wecat/",d.oe=function(e){throw e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=s;f.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0f9a":function(e,t,n){"use strict";n.r(t);n("498a"),n("d3b7"),n("25f0");var a=n("36f3"),i=n.n(a),c=n("6f36"),f=n("c276"),r=n("5723"),d={token:Object(f["a"])(),info:{signature:"",sex:1,wxid:"",area:"广州",nickname:"房东的Tom",avatar:null,username:""}},o={setToken:function(e,t){var n=t.token,a=t.auto;e.token=n,Object(f["c"])(n,a)},setUserInfo:function(e,t){e.info=t}},s={setUserInfo:function(e,t){var n=e.commit;return n("setUserInfo",t)},handleLogin:function(e,t){var n=e.state,a=e.commit,i=t.username,c=t.password,f=t.auto;return i=i.trim(),new Promise((function(e,t){Object(r["a"])({username:i,password:c}).then((function(t){if(t&&0===t.code){var i=t.data,c=i.token;a("setToken",{token:c,auto:f}),n.info.signature=i.signature,n.info.sex=i.sex,n.info.wxid=i.wxid,n.info.area=i.area,n.info.nickname=i.nickname,n.info.avatar=i.avatar,n.info.username=i.username,e(t)}})).catch((function(e){t(e)}))}))},handleLogout:function(e){e.state;var t=e.commit;return new Promise((function(e,n){Object(r["b"])().then((function(n){t("setToken",""),e(n)})).catch((function(e){n(e)}))}))}},u={getUser:function(e,t,n){if(null==e.info.avatar||""===e.info.avatar){var a={background:[222,225,230],margin:.2,size:420,format:"png"};e.info.avatar="data:image/png;base64,"+new i.a(Object(c["a"])(e.info.nickname),a).toString()}return e.info}};t["default"]={namespaced:!0,state:d,mutations:o,actions:s,getters:u}},1:function(e,t){},2:function(e,t){},2464:function(e,t,n){"use strict";n.r(t);n("7db0");var a={windowWidth:null,windowHeight:null,network:!0,headMenu:{visibleIng:!1,visible:!1,clientX:0,clienty:0,self:!0,wxid:null,type:1,chatid:null},searchText:"",emojis:[{sign:"@::tt;;@f179c32a157fc3905b3f845cdde9d786@",file:"100.gif",code:"/::)",title:"微笑",reg:/@::tt;;@f179c32a157fc3905b3f845cdde9d786@/g,id:"f179c32a157fc3905b3f845cdde9d786"},{sign:"@::tt;;@d3af995fbd5e85690dc7fad8f72e117b@",file:"101.gif",code:"/::~",title:"伤心",reg:/@::tt;;@d3af995fbd5e85690dc7fad8f72e117b@/g,id:"d3af995fbd5e85690dc7fad8f72e117b"},{sign:"@::tt;;@c973e1eff6c08a3e195f1bfbd4fe6e38@",file:"102.gif",code:"/::B",title:"美女",reg:/@::tt;;@c973e1eff6c08a3e195f1bfbd4fe6e38@/g,id:"c973e1eff6c08a3e195f1bfbd4fe6e38"},{sign:"@::tt;;@d778401b0c2d91ba64e632312e98d91a@",file:"103.gif",code:"/::|",title:"发呆",reg:/@::tt;;@d778401b0c2d91ba64e632312e98d91a@/g,id:"d778401b0c2d91ba64e632312e98d91a"},{sign:"@::tt;;@daea8564a1977711c1bf1a583efbc813@",file:"104.gif",code:"/:8-)",title:"墨镜",reg:/@::tt;;@daea8564a1977711c1bf1a583efbc813@/g,id:"daea8564a1977711c1bf1a583efbc813"},{sign:"@::tt;;@39b3c431d9e5c681f893fff06c808e6c@",file:"105.gif",code:"/::<",title:"哭",reg:/@::tt;;@39b3c431d9e5c681f893fff06c808e6c@/g,id:"39b3c431d9e5c681f893fff06c808e6c"},{sign:"@::tt;;@1417b83427473d13fb560f10f7a602b1@",file:"106.gif",code:"/::$",title:"羞",reg:/@::tt;;@1417b83427473d13fb560f10f7a602b1@/g,id:"1417b83427473d13fb560f10f7a602b1"},{sign:"@::tt;;@e46ca940d8c5752a1c3070b7c80119f3@",file:"107.gif",code:"/::X",title:"哑",reg:/@::tt;;@e46ca940d8c5752a1c3070b7c80119f3@/g,id:"e46ca940d8c5752a1c3070b7c80119f3"},{sign:"@::tt;;@1ed1f8223ccc40a2798c79ab9e97cc86@",file:"108.gif",code:"/::Z",title:"睡",reg:/@::tt;;@1ed1f8223ccc40a2798c79ab9e97cc86@/g,id:"1ed1f8223ccc40a2798c79ab9e97cc86"},{sign:"@::tt;;@6ccf78fca7ae7e9197f4f7bee43c091b@",file:"109.gif",code:"/::'(",title:"哭",reg:/@::tt;;@6ccf78fca7ae7e9197f4f7bee43c091b@/g,id:"6ccf78fca7ae7e9197f4f7bee43c091b"},{sign:"@::tt;;@7ade152d7fbb765fcc4892049a1e8968@",file:"110.gif",code:"/::-|",title:"囧",reg:/@::tt;;@7ade152d7fbb765fcc4892049a1e8968@/g,id:"7ade152d7fbb765fcc4892049a1e8968"},{sign:"@::tt;;@c557456dd4f7edbbe7f008525576b115@",file:"111.gif",code:"/::@",title:"怒",reg:/@::tt;;@c557456dd4f7edbbe7f008525576b115@/g,id:"c557456dd4f7edbbe7f008525576b115"},{sign:"@::tt;;@823b425ba05d9e2a5622dabef7c06f1a@",file:"112.gif",code:"/::P",title:"调皮",reg:/@::tt;;@823b425ba05d9e2a5622dabef7c06f1a@/g,id:"823b425ba05d9e2a5622dabef7c06f1a"},{sign:"@::tt;;@1cb4c147d8565bf1c1c59773c99f3fb7@",file:"113.gif",code:"/::D",title:"笑",reg:/@::tt;;@1cb4c147d8565bf1c1c59773c99f3fb7@/g,id:"1cb4c147d8565bf1c1c59773c99f3fb7"},{sign:"@::tt;;@40f2b9435c51445a7cb997d39f6595b1@",file:"114.gif",code:"/::O",title:"惊讶",reg:/@::tt;;@40f2b9435c51445a7cb997d39f6595b1@/g,id:"40f2b9435c51445a7cb997d39f6595b1"},{sign:"@::tt;;@cd3b0753e4e83687ee6756388e2375b3@",file:"115.gif",code:"/::(",title:"难过",reg:/@::tt;;@cd3b0753e4e83687ee6756388e2375b3@/g,id:"cd3b0753e4e83687ee6756388e2375b3"},{sign:"@::tt;;@a8f656fec90f7e095008469adc36d435@",file:"116.gif",code:"/::+",title:"酷",reg:/@::tt;;@a8f656fec90f7e095008469adc36d435@/g,id:"a8f656fec90f7e095008469adc36d435"},{sign:"@::tt;;@a6b13b7ab7e75ce00952405ac3719079@",file:"117.gif",code:"/:--b",title:"汗",reg:/@::tt;;@a6b13b7ab7e75ce00952405ac3719079@/g,id:"a6b13b7ab7e75ce00952405ac3719079"},{sign:"@::tt;;@aa456f549ef37198dd834794df369fb5@",file:"118.gif",code:"/::Q",title:"抓狂",reg:/@::tt;;@aa456f549ef37198dd834794df369fb5@/g,id:"aa456f549ef37198dd834794df369fb5"},{sign:"@::tt;;@aad1c8aed57088087adc91083e2d959e@",file:"119.gif",code:"/::T",title:"吐",reg:/@::tt;;@aad1c8aed57088087adc91083e2d959e@/g,id:"aad1c8aed57088087adc91083e2d959e"},{sign:"@::tt;;@af20e3336e30e97680d55e7d6970e73a@",file:"120.gif",code:"/:,@P",title:"笑",reg:/@::tt;;@af20e3336e30e97680d55e7d6970e73a@/g,id:"af20e3336e30e97680d55e7d6970e73a"},{sign:"@::tt;;@5a2b231cd427b824b81c8fe21b7611a7@",file:"121.gif",code:"/:,@-D",title:"快乐",reg:/@::tt;;@5a2b231cd427b824b81c8fe21b7611a7@/g,id:"5a2b231cd427b824b81c8fe21b7611a7"},{sign:"@::tt;;@134c72ddb7863f00d779dec5f91c2328@",file:"122.gif",code:"/::d",title:"奇",reg:/@::tt;;@134c72ddb7863f00d779dec5f91c2328@/g,id:"134c72ddb7863f00d779dec5f91c2328"},{sign:"@::tt;;@bb88dbaa22df021e3c2fe60a278e77f7@",file:"123.gif",code:"/:,@o",title:"傲",reg:/@::tt;;@bb88dbaa22df021e3c2fe60a278e77f7@/g,id:"bb88dbaa22df021e3c2fe60a278e77f7"},{sign:"@::tt;;@bcef0a306a9e8e261a968a6df3184dbf@",file:"124.gif",code:"/::g",title:"饿",reg:/@::tt;;@bcef0a306a9e8e261a968a6df3184dbf@/g,id:"bcef0a306a9e8e261a968a6df3184dbf"},{sign:"@::tt;;@a969ccfcc3a3d38df58239ad03264580@",file:"125.gif",code:"/:|-)",title:"累",reg:/@::tt;;@a969ccfcc3a3d38df58239ad03264580@/g,id:"a969ccfcc3a3d38df58239ad03264580"},{sign:"@::tt;;@fb621ae0139922d295053d202e91e0e2@",file:"126.gif",code:"/::!",title:"吓",reg:/@::tt;;@fb621ae0139922d295053d202e91e0e2@/g,id:"fb621ae0139922d295053d202e91e0e2"},{sign:"@::tt;;@1a6335f67cc1c053b985044087969a2b@",file:"127.gif",code:"/::L",title:"汗",reg:/@::tt;;@1a6335f67cc1c053b985044087969a2b@/g,id:"1a6335f67cc1c053b985044087969a2b"},{sign:"@::tt;;@4ff0999d86a4027d888f7ed0c9176bd9@",file:"128.gif",code:"/::>",title:"高兴",reg:/@::tt;;@4ff0999d86a4027d888f7ed0c9176bd9@/g,id:"4ff0999d86a4027d888f7ed0c9176bd9"},{sign:"@::tt;;@17c07d6a3cd57c6654c75728987b93dc@",file:"129.gif",code:"/::,@",title:"闲",reg:/@::tt;;@17c07d6a3cd57c6654c75728987b93dc@/g,id:"17c07d6a3cd57c6654c75728987b93dc"},{sign:"@::tt;;@b85b57d747a269bb09195ca14bba8d21@",file:"130.gif",code:"/:,@f",title:"努力",reg:/@::tt;;@b85b57d747a269bb09195ca14bba8d21@/g,id:"b85b57d747a269bb09195ca14bba8d21"},{sign:"@::tt;;@3df9ccfc7ec35fa45e4bdfb5b3babb4a@",file:"131.gif",code:"/::-S",title:"骂",reg:/@::tt;;@3df9ccfc7ec35fa45e4bdfb5b3babb4a@/g,id:"3df9ccfc7ec35fa45e4bdfb5b3babb4a"},{sign:"@::tt;;@0b5a0d2de31fe977a592a4260143e387@",file:"133.gif",code:"/:,@x",title:"秘密",reg:/@::tt;;@0b5a0d2de31fe977a592a4260143e387@/g,id:"0b5a0d2de31fe977a592a4260143e387"},{sign:"@::tt;;@462febe1d3f1e5875eacf0c26430bd3f@",file:"134.gif",code:"/:,@@",title:"乱",reg:/@::tt;;@462febe1d3f1e5875eacf0c26430bd3f@/g,id:"462febe1d3f1e5875eacf0c26430bd3f"},{sign:"@::tt;;@29df5d6d123a472a6232058850630d58@",file:"135.gif",code:"/::8",title:"疯",reg:/@::tt;;@29df5d6d123a472a6232058850630d58@/g,id:"29df5d6d123a472a6232058850630d58"},{sign:"@::tt;;@0bc574c5ce818a0ce53303e2a845e870@",file:"136.gif",code:"/:,@!",title:"哀",reg:/@::tt;;@0bc574c5ce818a0ce53303e2a845e870@/g,id:"0bc574c5ce818a0ce53303e2a845e870"},{sign:"@::tt;;@29d7abf636d7b27d2b1e9860c676f837@",file:"137.gif",code:"/:!!!",title:"鬼",reg:/@::tt;;@29d7abf636d7b27d2b1e9860c676f837@/g,id:"29d7abf636d7b27d2b1e9860c676f837"},{sign:"@::tt;;@48fd3166cf469c4d4ef373b440528970@",file:"138.gif",code:"/:xx",title:"打击",reg:/@::tt;;@48fd3166cf469c4d4ef373b440528970@/g,id:"48fd3166cf469c4d4ef373b440528970"},{sign:"@::tt;;@355b1fc77e01efe9df1aa7ef79fa795e@",file:"139.gif",code:"/:bye",title:"bye",reg:/@::tt;;@355b1fc77e01efe9df1aa7ef79fa795e@/g,id:"355b1fc77e01efe9df1aa7ef79fa795e"},{sign:"@::tt;;@f48a8e03a205440524e8771d2af651fc@",file:"142.gif",code:"/:handclap",title:"鼓掌",reg:/@::tt;;@f48a8e03a205440524e8771d2af651fc@/g,id:"f48a8e03a205440524e8771d2af651fc"},{sign:"@::tt;;@2f79734263557bf9ef9e5735b6e55d9e@",file:"145.gif",code:"/:<@",title:"什么",reg:/@::tt;;@2f79734263557bf9ef9e5735b6e55d9e@/g,id:"2f79734263557bf9ef9e5735b6e55d9e"},{sign:"@::tt;;@ba9de0195f8c074887fd42ff40ed7fc4@",file:"147.gif",code:"/::-O",title:"累",reg:/@::tt;;@ba9de0195f8c074887fd42ff40ed7fc4@/g,id:"ba9de0195f8c074887fd42ff40ed7fc4"},{sign:"@::tt;;@eaf33fcf7ca79fd880dc452935e56b5d@",file:"153.gif",code:"/:@x",title:"吓",reg:/@::tt;;@eaf33fcf7ca79fd880dc452935e56b5d@/g,id:"eaf33fcf7ca79fd880dc452935e56b5d"},{sign:"@::tt;;@029d557f8df103f1e7c01756edd76925@",file:"155.gif",code:"/:pd",title:"刀",reg:/@::tt;;@029d557f8df103f1e7c01756edd76925@/g,id:"029d557f8df103f1e7c01756edd76925"},{sign:"@::tt;;@d951791a7736204ba05800effe1add00@",file:"156.gif",code:"/:<W>",title:"水果",reg:/@::tt;;@d951791a7736204ba05800effe1add00@/g,id:"d951791a7736204ba05800effe1add00"},{sign:"@::tt;;@0dce1f683af61ade7464712af3d327b3@",file:"157.gif",code:"/:beer",title:"酒",reg:/@::tt;;@0dce1f683af61ade7464712af3d327b3@/g,id:"0dce1f683af61ade7464712af3d327b3"},{sign:"@::tt;;@aef9805cdbaacdd52d57f02a9d868c2e@",file:"158.gif",code:"/:basketb",title:"篮球",reg:/@::tt;;@aef9805cdbaacdd52d57f02a9d868c2e@/g,id:"aef9805cdbaacdd52d57f02a9d868c2e"},{sign:"@::tt;;@47fe0e89215badee7b4669b0e5d3876e@",file:"159.gif",code:"/:oo",title:"乒乓",reg:/@::tt;;@47fe0e89215badee7b4669b0e5d3876e@/g,id:"47fe0e89215badee7b4669b0e5d3876e"},{sign:"@::tt;;@fff800a15c2cfbce7fea77afa302d331@",file:"195.gif",code:"/:circle",title:"跳舞",reg:/@::tt;;@fff800a15c2cfbce7fea77afa302d331@/g,id:"fff800a15c2cfbce7fea77afa302d331"},{sign:"@::tt;;@21fbc6afc1969b206ca5485de3aa1bd7@",file:"160.gif",code:"/:coffee",title:"咖啡",reg:/@::tt;;@21fbc6afc1969b206ca5485de3aa1bd7@/g,id:"21fbc6afc1969b206ca5485de3aa1bd7"}]},i={setNetwork:function(e,t){e.network=t},setWindowWidth:function(e,t){e.windowWidth=t},setwindowHeight:function(e,t){e.windowHeight=t},search:function(e,t){e.searchText=t},setHeadMenu:function(e,t){e.headMenu=t}},c={search:function(e,t){var n=e.commit;setTimeout((function(){n("search",t)}),100)},setNetwork:function(e,t){var n=e.commit;setTimeout((function(){n("search",t)}),100)}},f={getHeadMenuInfo:function(e,t,n){var a=n.friend.friendlist.find((function(t){return t.wxid===e.headMenu.wxid}));return a}};t["default"]={namespaced:!0,state:a,mutations:i,actions:c,getters:f}},"2a2c":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return p}));n("ac1f"),n("5319");var a=null,i=null,c=null,f=null,r=null,d=null;function o(e){setTimeout((function(){a.readyState===a.OPEN&&a.send(e),a.readyState===a.CLOSED&&f()}),500)}function s(e){e&&1e3!==e.code&&f()}function u(e){i(e)}function l(e){var t=JSON.parse(e.data);if(2==t.type){var n=g(t.url);c[n](t.body)}}function b(){if("undefined"===typeof WebSocket)return alert("您的浏览器不支持WebSocket，无法获取数据"),!1;a=new WebSocket(r,d),a.onmessage=function(e){l(e)},a.onopen=function(){u()},a.onerror=function(){f()},a.onclose=function(e){s(e)}}function g(e){return e.replace(/\/[a-zA-Z]/g,(function(e,t,n){return 0==t?e.substring(1,2):e.substring(1,2).toUpperCase()}))}function h(e,t,n,a,o){r=e,d=t,c=a,f=o,i=n,b()}function m(e){o(JSON.stringify(e))}function p(){a&&(a.close(),a.onclose())}},"33ec":function(e,t,n){},4360:function(e,t,n){"use strict";n("d3b7"),n("ddb0"),n("ac1f"),n("5319");var a=n("2b0e"),i=n("2f62"),c=n("0e44");a["a"].use(i["a"]);var f=n("c653"),r=f.keys().reduce((function(e,t){var n=t.replace(/^\.\/(.*)\.\w+$/,"$1"),a=f(t);return e[n]=a.default,e}),{}),d=new i["a"].Store({modules:r,plugins:[Object(c["a"])({paths:["user","chat","system.headMenu","friend.friendlist","friend.newFriendList"]})]});t["a"]=d},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("159b"),n("b64b");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},c=[],f={created:function(){var e=this;this.$store.dispatch("chat/initData"),window.fullHeight=document.documentElement.clientHeight,window.fullWidth=document.documentElement.clientWidth,this.$store.commit("system/setWindowWidth",window.fullWidth),this.$store.commit("system/setwindowHeight",window.fullHeight),this.stopF5Refresh(),window.addEventListener("beforeunload",(function(t){return e.beforeunloadHandler(t)}))},destroyed:function(){var e=this;window.removeEventListener("beforeunload",(function(t){return e.beforeunloadHandler(t)}))},data:function(){return{moveDataelse:{x:null,y:null}}},methods:{stopF5Refresh:function(){document.onkeydown=function(e){var t=window.event||e,n=t.keyCode||t.which;116==n&&(t.preventDefault?t.preventDefault():(t.keyCode=0,t.returnValue=!1))}},beforeunloadHandler:function(e){JSON.parse(localStorage.getItem("havePlay"))&&JSON.parse(localStorage.getItem("havePlay")).currentTime==this.currentTime&&window.localStorage.removeItem("havePlay")}}},r=f,d=(n("034f"),n("2877")),o=Object(d["a"])(r,i,c,!1,null,"76671ef0",null),s=o.exports,u=n("a18c"),l=n("f121"),b=n.n(l),g=n("4360"),h={drag:function(e,t,n){var a=n.context,i=e,c={appOffsetLeft:null,appOffsetTop:null,x:null,y:null};i.onmousedown=function(e){var t=document.getElementById("wechat");c.x=e.pageX,c.y=e.pageY,c.appOffsetLeft=t.offsetLeft,c.appOffsetTop=t.offsetTop,document.onmousemove=function(e){var n=e.pageX-c.x,i=e.pageY-c.y,f=c.appOffsetLeft+n,r=c.appOffsetTop+i;f>=5&&f<=a.$store.state.system.windowWidth-t.offsetWidth-5&&(t.style.left=f+"px"),r>=5&&r<=a.$store.state.system.windowHeight-t.offsetHeight-5&&(t.style.top=r+"px")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null,c.x=null,c.y=null,c.appOffsetLeft=null,c.appOffsetTop=null}}}},m=(n("33ec"),n("6dcb")),p=n("df48");a["a"].prototype.$confirm=m["a"].install,a["a"].prototype.$message=p["a"].install,a["a"].prototype.$config=b.a,a["a"].config.productionTip=!1;var v={drag:h.drag};Object.keys(v).forEach((function(e){a["a"].directive(e,v[e])})),new a["a"]({el:"#app",router:u["a"],store:g["a"],render:function(e){return e(s)}}).$mount("#app")},5723:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return r}));var a=n("6b6c"),i=n("c276"),c=function(e){var t=e.username,n=e.password,i={username:t,password:n};return Object(a["d"])({url:"/login",data:i})},f=function(){return Object(a["a"])({url:"admin/logout/token",data:{token:Object(i["a"])()},method:"post"})},r=function(e){var t={value:e};return Object(a["a"])({url:"/user/selectUser",params:t,method:"get"})}},"6b6c":function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return m}));n("caad"),n("2532"),n("d3b7");var a=n("bc3a"),i=n.n(a),c=(n("4328"),n("4360")),f=n("a18c"),r=n("f121"),d=n.n(r),o=n("c276"),s=n("df48"),u=(n("6f36"),"http://127.0.0.1:8088/chat"),l=s["a"].install;switch("production"){case"development":u=d.a.apiUrl.dev;break;case"production":u=d.a.apiUrl.pro;break}function b(){return u.substring(u.indexOf("//"))}var g=i.a.create({baseURL:u,timeout:3e4});function h(){c["a"].commit("user/setToken",""),Object(o["b"])(),f["a"].push({path:"/login"})}function m(e){var t=e.url,n=e.data,a={url:t,method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:null};return a.data=JSON.stringify(n),g(a)}g.defaults.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",g.apiUrl=u,g.interceptors.request.use((function(e){var t=Object(o["a"])();return t&&!e.url.includes("login")&&(e.headers["Authorization"]="Bearer "+t),e})),g.interceptors.response.use((function(e){return 0===e.data.code?Promise.resolve(e.data):(l({content:e.data.msg,time:2500,type:"error",hasClose:!0}),Promise.reject(e.data))}),(function(e){var t="";if(e&&e.response){switch(e.response.status){case 401:return h(),void location.reload();case 403:t=e.response.data.path+","+e.response.data.msg,h();break;case 429:t="访问太过频繁，请稍后再试!";break;default:t=e.response.data.msg?e.response.data.msg:"服务器错误";break}return l({content:t,time:2500,type:"error",hasClose:!0}),Promise.reject(e)}return t="连接服务器失败",l({content:"连接服务器失败",time:2500,type:"error",hasClose:!0}),Promise.reject(e)})),t["a"]=g},"6dcb":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.show?n("div",{staticClass:"cus-confirm-mask"},[n("div",{staticClass:"cus-confirm",style:{"--widthStr":e.width+"px","--heightStr":e.height+"px","--width":e.width/2+"px","--height":e.height/2+"px"},on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"systemBottom"},[n("i",{staticClass:"icon iconfont icon-close close",on:{click:e.no}})]),null!=e.title?n("div",{staticClass:"confirm-title"},[e._v(e._s(e.title))]):e._e(),n("div",{staticClass:"confirm-body"},[e._t("confirm")],2),n("div",{staticClass:"confirm-btns"},[e.okFlag?n("button",{staticClass:"ok-btn",class:{"ok-btn-success":e.isActive},attrs:{disabled:!e.isActive},on:{click:e.sure}},[e._v(" 确认 ")]):e._e(),e.noFlag?n("button",{staticClass:"cancel-btn",on:{click:e.no}},[e._v("取消")]):e._e()])])]):e._e()])},i=[],c=(n("a9e3"),{name:"CusConfirm",props:{flag:{type:Boolean,default:!1},title:{type:String,default:null},noFlag:{type:Boolean,default:!0},okFlag:{type:Boolean,default:!0},width:{type:Number,default:480},height:{type:Number,default:260},isActive:{type:Boolean,default:!1}},data:function(){return{show:!1}},watch:{flag:function(e){this.show=e}},methods:{no:function(){this.$emit("cancel"),this.cancel()},sure:function(){this.$emit("confirm")},cancel:function(){this.show=!1}}}),f=c,r=(n("929f"),n("2877")),d=Object(r["a"])(f,a,i,!1,null,"157e4506",null);t["a"]=d.exports},"6f36":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("d3b7"),n("25f0"),n("b64b"),n("4e82"),n("d81d"),n("4de4");var a=n("3452"),i=n.n(a),c=function(e){return i.a.MD5(e).toString()}},"85ec":function(e,t,n){},"8c70":function(e,t,n){},"90de":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return f}));n("2909"),n("a630"),n("3ca3"),n("d3b7"),n("6062"),n("ddb0"),n("99af"),n("a434"),n("a9e3"),n("b64b"),n("ac1f"),n("5319"),n("25f0"),n("466d"),n("4d63");var a=function(e,t){var n=t.getTime()-e.getTime(),a=n%864e5,i=(Math.floor(a/36e5),a%36e5),c=Math.floor(i/6e4);return c>0?c:0},i=function(){return(new Date).getTime()},c=function(e,t,n){for(var a=0;a<e.length;a++)if(n===e[a][t])return a;return-1},f=function(e,t){for(var n=0;n<t.length;n++)e.splice(t[n],1)};(function(){document.addEventListener})(),function(){document.removeEventListener}();Date.prototype.pattern=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},n={0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+n[this.getDay()+""])),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e}},"929f":function(e,t,n){"use strict";n("8c70")},"9b4f":function(e,t,n){"use strict";n.r(t);var a,i,c=n("ade3"),f=n("1da1"),r=(n("96cf"),n("7db0"),n("a434"),n("4de4"),n("caad"),n("2532"),n("90de")),d=n("2a2c"),o=function(e,t){var n=Object(r["b"])(),a={url:"/chat/send",body:{receiveId:e,msgContent:t,msgType:1,sendTime:n,msgId:e+n}};Object(d["c"])(a)},s=new Date,u={chatlist:[{id:1,type:1,wxid:"wx001",username:"99",info:{avatar:"static/images/vue.jpg",nickname:"机器人",remark:"偷懒的机器人",notDisturb:!0},newMsgNum:0,isShow:!0,messages:[{content:"我会跟你聊聊天的哟",date:s,showTime:!0}],index:1}],selectWxid:"wx001"},l=(a={initData:function(e){var t=localStorage.getItem("vue-chat");t&&(e.chatlist=JSON.parse(t))},selectSession:function(e,t){e.selectWxid=t;var n=e.chatlist.find((function(e){return e.wxid===t}));n.newMsgNum=0,n.isShow=!0},updateChatInfo:function(e,t){var n=e.chatlist.find((function(e){return e.wxid===t.wxid}));null!=t.newMsgNum&&(n.newMsgNum=t.newMsgNum),null!=t.newMsgNum&&(n.isShow=t.isShow),null!=t.info.notDisturb&&(n.info.notDisturb=t.info.notDisturb)},deleteChatByWxid:function(e,t){for(var n=-1,a=0;a<e.chatlist.length;a++)e.chatlist[a].wxid==t&&(n=a);n>-1&&(e.selectWxid=e.chatlist[n+1].wxid,e.chatlist.splice(n,1))},sendMessage:function(e,t){var n=e.chatlist.find((function(t){return t.wxid===e.selectWxid})),a=new Date,i=n.messages[n.messages.length-1],c=Object(r["d"])(new Date(i.date),a),f=!1;c>3&&(f=!0),n.messages.push({content:t.content,date:a,self:!0,showTime:f}),"wx001"===n.wxid?setTimeout((function(){n.messages.push({content:"由于资金不足，机器人已经跑路!",date:a,self:!1,showTime:!1})}),200):o(n.username,t.content)}},Object(c["a"])(a,"receiveMessage",(function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,i,c,f,d,o,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=t.commit,i=t.msg,c=t.friend,f=e.chatlist.find((function(e){return e.username===i.username})),d=!0,f?(o=f.messages[f.messages.length-1],u=Object(r["d"])(new Date(o.date),s),u<3&&(d=!1)):f={type:1,wxid:c.wxid,username:c.username,info:{nickname:c.nickname,avatar:c.avatar,remark:c.remark,notDisturb:!1},isShow:!0,newMsgNum:0,messages:[]},e.selectWxid!==f.wxid&&(f.newMsgNum=f.newMsgNum+1),f.messages.push({content:i.msgContent,date:new Date(i.sendTime),self:!1,showTime:d}),a("topChat",f);case 7:case"end":return n.stop()}}),n)})))()})),Object(c["a"])(a,"topChat",(function(e,t){for(var n=!1,a=-1,i=0;i<e.chatlist.length;i++)e.chatlist[i].username===t.username?(e.chatlist[i].id=1,e.chatlist[i].index=1,a=i,n=!0):(e.chatlist[i].id++,e.chatlist[i].index++);n?e.chatlist.unshift(e.chatlist.splice(a,1)[0]):(t.index=1,t.id=1,t.isShow=!0,e.chatlist.unshift(t))})),a),b=(i={selectSession:function(e,t){var n=e.commit;return n("selectSession",t)},initData:function(e){var t=e.commit;return t("initData")},updateChatInfo:function(e,t){var n=e.commit;return n("updateChatInfo",t)},deleteChatByWxid:function(e,t){var n=e.commit;return n("deleteChatByWxid",t)},sendMessage:function(e,t){var n=e.commit;return n("sendMessage",t)}},Object(c["a"])(i,"receiveMessage",(function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=e.commit,e.dispatch,e.state,e.rootState,i=e.rootGetters,c=i["friend/selectedFriendByUsername"](t.username),a("receiveMessage",{commit:a,msg:t,friend:c});case 3:case"end":return n.stop()}}),n)})))()})),Object(c["a"])(i,"topChat",(function(e,t){var n=e.commit;return n("topChat",t)})),i),g={getTotalNewMsgs:function(e){for(var t=0,n=0;n<e.chatlist.length;n++)!e.chatlist[n].info.notDisturb&&e.chatlist[n].newMsgNum>0&&(t+=e.chatlist[n].newMsgNum);return t},searchedChatlist:function(e,t,n){var a=e.chatlist.filter((function(e){return e.info.remark.includes(n.system.searchText)}));return a},getChatIndex:function(e){return function(t){for(var n=0;n<e.chatlist.length;n++)if(e.chatlist[n].wxid==t)return n;return-1}},getChatByFriendWxid:function(e,t,n){var a=e.chatlist.find((function(e){return e.wxid===n.friend.selectFriendWxid}));return a},selectedChat:function(e){var t=e.chatlist.find((function(t){return t.wxid===e.selectWxid}));return t},messages:function(e){var t=e.chatlist.find((function(t){return t.wxid===e.selectWxid}));return t.messages}};t["default"]={namespaced:!0,state:u,mutations:l,actions:b,getters:g}},"9e9a":function(e,t,n){"use strict";n("c0df")},a148:function(e,t,n){"use strict";n.r(t);n("7db0"),n("4de4"),n("caad"),n("2532");var a=n("90de"),i={friendlist:[{id:-1,wxid:"wx001",initial:"A",username:"001",avatar:"static/images/vue.jpg",signature:"他什么也没有说",nickname:"机器人",sex:0,remark:"偷懒的机器人",origin:"官方",area:"广东广州"}],newFriendList:[],newfriend:{id:0,wxid:"1",initial:"新的朋友",avatar:"static/images/newfriend.jpg",signature:"",nickname:"新的朋友",sex:0,remark:"新的朋友",area:""},groupChat:{id:0,wxid:"2",initial:"群聊",avatar:"static/images/group.png",signature:"",nickname:"群聊",sex:0,remark:"群聊",area:""},selectFriendWxid:"1"},c={selectFriend:function(e,t){e.selectFriendWxid=t},addFriend:function(e,t){var n=e.friendlist.find((function(e){return e.username===t.username}));null==n&&e.friendlist.push(t)},addFriendList:function(e,t){var n=[];e.friendlist.filter((function(e,a){-1==e.id||t.find((function(t){return e.username===t.username}))||n.push(a)})),n.length>0&&Object(a["c"])(e.friendlist,n);for(var i=t.filter((function(t){return!e.friendlist.find((function(e){return t.username===e.username}))})),c=0;c<i.length;c++)e.friendlist.push(i[c])},addNewFriend:function(e,t){for(var n=t.filter((function(t){return!e.newFriendList.find((function(e){return t.applyId===e.applyId}))})),a=0;a<n.length;a++)e.newFriendList.push(n[a])},updateNewFriendStatus:function(e,t){var n=e.newFriendList.find((function(e){return e.applyId===t.applyId}));n.status=t.status}},f={selectFriend:function(e,t){var n=e.commit;return n("selectFriend",t)},addFriendList:function(e,t){var n=e.commit;return n("addFriendList",t)},addFriend:function(e,t){var n=e.commit;return n("addFriend",t)},addNewFriend:function(e,t){var n=e.commit;return n("addNewFriend",t)},updateNewFriendStatus:function(e,t){var n=e.commit;return n("updateNewFriendStatus",t)}},r={getNewFriendNums:function(e){for(var t=0,n=0;n<e.newFriendList.length;n++)0==e.newFriendList[n].status&&t++;return t},searchedFriendlist:function(e,t,n){var a=e.friendlist.filter((function(e){return e.remark.includes(n.system.searchText)}));return a},selectedFriend:function(e){if("1"===e.selectFriendWxid)return e.newfriend;if("2"===e.selectFriendWxid)return e.groupChat;var t=e.friendlist.find((function(t){return t.wxid===e.selectFriendWxid}));return t},selectedChatFriend:function(e,t,n){var a=n.chat.chatlist.find((function(e){return e.wxid===n.chat.selectWxid})),i=e.friendlist.find((function(e){return e.wxid===a.wxid}));return i},selectedFriendByUsername:function(e){return function(t){return e.friendlist.find((function(e){return e.username===t}))}}};t["default"]={namespaced:!0,state:i,mutations:c,actions:f,getters:r}},a18c:function(e,t,n){"use strict";var a=n("2b0e"),i=n("8c4f"),c=(n("d3b7"),n("3ca3"),n("ddb0"),[{path:"/login",name:"login",component:function(){return n.e("chunk-304f7933").then(n.bind(null,"b88b"))}},{path:"/",component:function(){return n.e("chunk-5796a42a").then(n.bind(null,"3378"))},redirect:"/chat",children:[{path:"/chat",component:function(){return n.e("chunk-60e522e1").then(n.bind(null,"59c8"))}},{path:"/friend",component:function(){return n.e("chunk-5594f4ec").then(n.bind(null,"7158"))}},{path:"/game",component:function(){return n.e("chunk-7388aa62").then(n.bind(null,"389b"))}}]}]),f=n("c276"),r=n("f121"),d=n.n(r);a["a"].use(i["a"]);switch("production"){case"development":d.a.publicPath.dev;break;case"production":d.a.publicPath.pro;break}var o=new i["a"]({routes:c,linkActiveClass:"active"});o.beforeEach((function(e,t,n){var a=Object(f["a"])();"/login"==e.path?a?n("/"):n():a?(""===e.path&&n("/chat"),n()):n("/login")}));t["a"]=o},c0df:function(e,t,n){},c276:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return f}));n("ac1f"),n("1276"),n("159b"),n("b0c0"),n("d3b7"),n("498a"),n("d81d"),n("4d63"),n("25f0"),n("466d"),n("f121");var a="token",i=function(){localStorage.removeItem(a)},c=function(e,t){localStorage.setItem(a,e)},f=function(){var e=localStorage.getItem(a);return!(!e||"undefined"===e)&&e}},c653:function(e,t,n){var a={"./chat.js":"9b4f","./friend.js":"a148","./system.js":"2464","./user.js":"0f9a"};function i(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=c,e.exports=i,i.id="c653"},df48:function(e,t,n){"use strict";var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.visible?n("div",{staticClass:"message",class:e.type},[n("i",{staticClass:"icon-type iconfont",class:"icon-"+e.type}),n("div",{staticClass:"content"},[e._v(" "+e._s(e.content)+" "),e.hasClose?n("i",{staticClass:"btn-close iconfont icon-close",on:{click:function(t){e.visible=!1}}}):e._e()])]):e._e()])},c=[],f={name:"MyMessage",data:function(){return{content:"",time:3e3,visible:!1,type:"info",hasClose:!1}},mounted:function(){this.close()},methods:{close:function(){var e=this;window.setTimeout((function(){e.visible=!1}),this.time)}}},r=f,d=(n("9e9a"),n("2877")),o=Object(d["a"])(r,i,c,!1,null,"0e86f9b3",null),s=o.exports,u=a["a"].extend(s);s.install=function(e,t){void 0===e||null===e?e={content:""}:"string"!==typeof e&&"number"!==typeof e||(e={content:e},void 0!=t&&null!=e&&(e.type=t));var n=new u({data:e}).$mount();document.body.appendChild(n.$el),a["a"].nextTick((function(){n.visible=!0}))};t["a"]=s},f121:function(e,t){e.exports={appId:"1552274783265",appKey:"7gBZcbsC7kLIWCdELIl8nxcs",appSecret:"0osTIhce7uPvDKHz6aa67bhCukaKoYl4",cookieExpires:1,useI18n:!1,publicPath:{dev:"/",pro:"/vue-wecat"},apiUrl:{dev:"http://127.0.0.1:8088/chat",pro:"http://y2725078j3.qicp.vip/wechat-mvc"}}}});